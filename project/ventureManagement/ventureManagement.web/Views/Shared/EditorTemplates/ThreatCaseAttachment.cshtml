@model VentureManagement.Models.ThreatCaseAttachment

@{
    var title = ViewData.ContainsKey("title") ? ViewData["title"].ToString() : "";
    var itemId = ViewData.ContainsKey("itemId") ? ViewData["itemId"].ToString() : "";
    var detail = ViewData.ContainsKey("detail");
    var url = ViewData.ContainsKey("url") ? ViewData["url"].ToString() : "";
}

@(    
    Html.X().FormPanel()
        .ItemID(itemId)
        .Title(title)
        .Collapsible(!detail)
        .Collapsed(!detail)
        .Url(url)
        .DefaultAnchor("100%")
        .StyleSpec("margin-bottom:5px;")
        .Frame(true)
        .Items(
            Html.X().HiddenFor(a=>a.ThreatCaseAttachmentId),
            Html.X().DrawComponent()
            .Items(i =>
            {
                i.Add(Html.X().Sprite()
                    .SpriteID("img")
                    .Type(SpriteType.Image)
                    .Src(Url.Content(Model.AttachmentUrl))
                    .Width(320)
                    .Height(240)
                );
            })
        )
)
